(this["webpackJsonpadmin-app"]=this["webpackJsonpadmin-app"]||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=(a(82),a(11)),u=(a(83),a(123)),s=a(124),i=a(117),m=a(13),p=a(9),d=a(8),E=a.n(d),f=a(4),b=a(10),g="LOGIN_REQUEST",v="LOGIN_FAILURE",y="LOGIN_SUCCESS",h="LOGOUT_REQUEST",O="LOGOUT_SUCCESS",j="LOGOUT_FAILURE",S="USER_REGISTER_REQUEST",C="USER_REGISTER_SUCCESS",k="USER_REGISTER_FAILURE",_="GET_ALL_CATEGORIES_REQUEST",T="GET_ALL_CATEGORIES_SUCCESS",w="GET_ALL_CATEGORIES_FAILURE",N="ADD_NEW_CATEGORY_REQUEST",R="ADD_NEW_CATEGORY_SUCCESS",x="ADD_NEW_CATEGORY_FAILURE",I="UPDATE_CATEGORIES_REQUEST",U="UPDATE_CATEGORIES_SUCCESS",A="UPDATE_CATEGORIES_FAILURE",D="DELETE_CATEGORIES_REQUEST",P="DELETE_CATEGORIES_SUCCESS",L="DELETE_CATEGORIES_FAILURE",G="GET_ALL_PRODUCTS_REQUEST",F="GET_ALL_PRODUCTS_SUCCESS",Q="GET_ALL_PRODUCTS_FAILURE",z="DELETE_PRODUCT_BY_ID_REQUEST",B="DELETE_PRODUCT_BY_ID_SUCCESS",M="DELETE_PRODUCT_BY_ID_FAILURE",Y="ADD_PRODUCT_REQUEST",q="ADD_PRODUCT_REQUEST",W="ADD_PRODUCT_FAILURE",H="CREATE_PAGE_REQUEST",J="CREATE_PAGE_SUCCESS",$="CREATE_PAGE_FAILURE",K="GET_CUSTOMER_ORDER_REQUEST",V="GET_CUSTOMER_ORDER_SUCCESS",X="GET_CUSTOMER_ORDER_FAILURE",Z="UPDATE_CUSTOMER_ORDER_REQUEST",ee="UPDATE_CUSTOMER_ORDER_SUCCESS",te="UPDATE_CUSTOMER_ORDER_FAILURE",ae=a(65),ne=a.n(ae),re="".concat("http://18.218.3.171","/api"),ce=a(29),le=a(66),oe={token:null,user:{firstName:"",lastName:"",email:"",picture:""},authenticate:!1,authenticating:!1,loading:!1,error:null,message:""},ue={error:null,message:"",loading:!1},se={products:[]},ie=a(24),me=a(31),pe={categories:[],loading:!1,error:null},de=function e(t,a,n){var r=[];if(void 0==t)return[].concat(Object(me.a)(a),[{_id:n._id,name:n.name,slug:n.slug,type:n.type,children:[]}]);var c,l=Object(ie.a)(a);try{for(l.s();!(c=l.n()).done;){var o=c.value;if(o._id==t){var u={_id:n._id,name:n.name,slug:n.slug,parentId:n.parentId,type:n.type,children:[]};r.push(Object(f.a)(Object(f.a)({},o),{},{children:o.children.length>0?[].concat(Object(me.a)(o.children),[u]):[u]}))}else r.push(Object(f.a)(Object(f.a)({},o),{},{children:o.children?e(t,o.children,n):[]}))}}catch(s){l.e(s)}finally{l.f()}return r},Ee={orders:[]},fe={error:null,loading:!1,page:{}},be=Object(ce.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case g:e=Object(f.a)(Object(f.a)({},e),{},{authenticating:!0});break;case y:e=Object(f.a)(Object(f.a)({},e),{},{user:t.payload.user,token:t.payload.token,authenticate:!0,authenticating:!1});break;case h:e=Object(f.a)(Object(f.a)({},e),{},{loading:!0});break;case O:e=Object(f.a)({},oe);break;case j:e=Object(f.a)(Object(f.a)({},e),{},{error:t.payload.error,loading:!1})}return e},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:e=Object(f.a)(Object(f.a)({},e),{},{loading:!0});break;case C:e=Object(f.a)(Object(f.a)({},e),{},{loading:!1,message:t.payload.message});break;case k:e=Object(f.a)(Object(f.a)({},e),{},{loading:!1,error:t.payload.error})}return e},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:e=Object(f.a)(Object(f.a)({},e),{},{categories:t.payload.categories});break;case N:e=Object(f.a)(Object(f.a)({},e),{},{loading:!0});break;case R:var a=t.payload.category,n=de(a.parentId,e.categories,a);console.log("updated categoires",n),e=Object(f.a)(Object(f.a)({},e),{},{categories:n,loading:!1});break;case x:e=Object(f.a)(Object(f.a)({},pe),{},{loading:!1,error:t.payload.error});break;case I:e=Object(f.a)(Object(f.a)({},e),{},{loading:!0});break;case U:e=Object(f.a)(Object(f.a)({},e),{},{loading:!1});break;case A:e=Object(f.a)(Object(f.a)({},e),{},{error:t.payload.error,loading:!1});break;case D:e=Object(f.a)(Object(f.a)({},e),{},{loading:!0});break;case P:e=Object(f.a)(Object(f.a)({},e),{},{loading:!1});break;case L:e=Object(f.a)(Object(f.a)({},e),{},{loading:!1,error:t.payload.error})}return e},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:e=Object(f.a)(Object(f.a)({},e),{},{products:t.payload.products})}return e},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:e=Object(f.a)(Object(f.a)({},e),{},{orders:t.payload.orders})}return e},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:e=Object(f.a)(Object(f.a)({},e),{},{loading:!0});break;case J:e=Object(f.a)(Object(f.a)({},e),{},{loading:!1});break;case $:e=Object(f.a)(Object(f.a)({},e),{},{loading:!1,error:t.payload.error})}return e}}),ge=a(67),ve=Object(ce.createStore)(be,Object(le.composeWithDevTools)(Object(ce.applyMiddleware)(ge.a))),ye=window.localStorage.getItem("token"),he=ne.a.create({baseURL:re,headers:{Authorization:ye?"Bearer ".concat(ye):""}});he.interceptors.request.use((function(e){var t=ve.getState().auth;return t.token&&(e.headers.Authorization="Bearer ".concat(t.token)),e})),he.interceptors.response.use((function(e){return e}),(function(e){console.log(e.response);var t=e.response?e.response.status:500;return t&&500===t&&(localStorage.clear(),ve.dispatch({type:O})),Promise.reject(e)}));var Oe=he,je=function(){return function(){var e=Object(b.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:_}),e.next=3,Oe.get("category/getcategory");case 3:a=e.sent,console.log(a),200===a.status?(n=a.data.categoryList,t({type:T,payload:{categories:n}})):t({type:w,payload:{error:a.data.error}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Se=function(){return function(){var e=Object(b.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:G}),e.next=4,Oe.post("product/getProducts");case 4:200===(a=e.sent).status?(n=a.data.products,t({type:F,payload:{products:n}})):t({type:Q}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Ce=function(e){var t=Object(p.c)((function(e){return e.auth})),a=Object(p.b)(),n=function(){a(function(){var e=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:h}),e.next=3,Oe.post("/admin/signout");case 3:200===(a=e.sent).status?(localStorage.clear(),t({type:O})):t({type:j,payload:{error:a.data.error}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return r.a.createElement(s.a,{collapseOnSelect:!0,fixed:"top",expand:"lg",bg:"dark",variant:"dark",style:{zIndex:1}},r.a.createElement(i.a,{fluid:!0},r.a.createElement(m.b,{to:"/",className:"navbar-brand"},"Admin Dashboard"),r.a.createElement(s.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(s.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(u.a,{className:"mr-auto"}),t.authenticate?r.a.createElement(u.a,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link",onClick:n},"Signout"))):r.a.createElement(u.a,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.c,{to:"signin",className:"nav-link"},"Signin")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.c,{to:"signup",className:"nav-link"},"Signup"))))))},ke=a(118),_e=a(70),Te=(a(108),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce,null),e.sidebar?r.a.createElement(i.a,{fluid:!0},r.a.createElement(ke.a,null,r.a.createElement(_e.a,{md:2,className:"sidebar"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(m.c,{exact:!0,to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(m.c,{to:"/page"},"Page")),r.a.createElement("li",null,r.a.createElement(m.c,{to:"/category"},"Category")),r.a.createElement("li",null,r.a.createElement(m.c,{to:"/products"},"Products")),r.a.createElement("li",null,r.a.createElement(m.c,{to:"/orders"},"Orders")))),r.a.createElement(_e.a,{md:10,style:{marginLeft:"auto",paddingTop:"60px"}},e.children))):e.children)}),we=(a(109),function(e){return r.a.createElement(Te,{sidebar:!0})}),Ne=a(7),Re=a(122),xe=a(119),Ie=function(e){var t=null;switch(e.type){case"select":t=r.a.createElement(Re.a.Group,null,e.label&&r.a.createElement(Re.a.Label,null,e.label),r.a.createElement("select",{className:"form-control form-control-sm",value:e.value,onChange:e.onChange},r.a.createElement("option",{value:""},e.placeholder),e.options.length>0?e.options.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.name)})):null));break;case"text":default:t=r.a.createElement(Re.a.Group,null,e.label&&r.a.createElement(Re.a.Label,null,e.label),r.a.createElement(Re.a.Control,Object.assign({type:e.type,placeholder:e.placeholder,value:e.value,onChange:e.onChange},e)),r.a.createElement(Re.a.Text,{className:"text-muted"},e.errorMessage))}return t},Ue=function(e){var t=Object(n.useState)(""),a=Object(Ne.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(""),s=Object(Ne.a)(u,2),m=s[0],d=s[1],h=Object(n.useState)(""),O=Object(Ne.a)(h,2),j=(O[0],O[1],Object(p.c)((function(e){return e.auth}))),S=Object(p.b)();return j.authenticate?r.a.createElement(o.a,{to:"/home"}):r.a.createElement(Te,null,r.a.createElement(i.a,null,r.a.createElement(ke.a,{style:{marginTop:"50px"}},r.a.createElement(_e.a,{md:{span:6,offset:3}},r.a.createElement(Re.a,{onSubmit:function(e){e.preventDefault(),S(function(e){return console.log(e),function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r,c,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:g}),t.next=3,Oe.post("/admin/signin",Object(f.a)({},e));case 3:200===(n=t.sent).status?(r=n.data,c=r.token,l=r.user,localStorage.setItem("token",c),localStorage.setItem("user",JSON.stringify(l)),a({type:y,payload:{token:c,user:l}})):400===n.status&&a({type:v,payload:{error:n.data.error}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({email:c,password:m}))}},r.a.createElement(Ie,{label:"Email",placeholder:"Email",value:c,type:"email",onChange:function(e){return l(e.target.value)}}),r.a.createElement(Ie,{label:"Password",placeholder:"Password",value:m,type:"password",onChange:function(e){return d(e.target.value)}}),r.a.createElement(xe.a,{variant:"primary",type:"submit"},"Submit"))))))},Ae=function(e){var t=Object(n.useState)(""),a=Object(Ne.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(""),s=Object(Ne.a)(u,2),m=s[0],d=s[1],g=Object(n.useState)(""),v=Object(Ne.a)(g,2),y=v[0],h=v[1],O=Object(n.useState)(""),j=Object(Ne.a)(O,2),_=j[0],T=j[1],w=Object(n.useState)(""),N=Object(Ne.a)(w,2),R=(N[0],N[1],Object(p.c)((function(e){return e.auth}))),x=Object(p.c)((function(e){return e.user})),I=Object(p.b)();Object(n.useEffect)((function(){x.loading||(l(""),d(""),h(""),T(""))}),[x.loading]);return R.authenticate?r.a.createElement(o.a,{to:"/"}):x.loading?r.a.createElement("p",null,"Loading...!"):r.a.createElement(Te,null,r.a.createElement(i.a,null,x.message,r.a.createElement(ke.a,{style:{marginTop:"50px"}},r.a.createElement(_e.a,{md:{span:6,offset:3}},r.a.createElement(Re.a,{onSubmit:function(e){e.preventDefault(),I(function(e){return console.log(e),function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:S}),t.next=3,Oe.post("/admin/signup",Object(f.a)({},e));case 3:201===(n=t.sent).status?(r=n.data.message,a({type:C,payload:{message:r}})):400===n.status&&a({type:k,payload:{error:n.data.error}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({firstName:c,lastName:m,email:y,password:_}))}},r.a.createElement(ke.a,null,r.a.createElement(_e.a,{md:6},r.a.createElement(Ie,{label:"First Name",placeholder:"First Name",value:c,type:"text",onChange:function(e){return l(e.target.value)}})),r.a.createElement(_e.a,{md:6},r.a.createElement(Ie,{label:"Last Name",placeholder:"Last Name",value:m,type:"text",onChange:function(e){return d(e.target.value)}}))),r.a.createElement(Ie,{label:"Email",placeholder:"Email",value:y,type:"email",onChange:function(e){return h(e.target.value)}}),r.a.createElement(Ie,{label:"Password",placeholder:"Password",value:_,type:"password",onChange:function(e){return T(e.target.value)}}),r.a.createElement(xe.a,{variant:"primary",type:"submit"},"Submit"))))))},De=a(76),Pe=function(e){var t=e.component,a=Object(De.a)(e,["component"]);return r.a.createElement(o.b,Object.assign({},a,{component:function(e){return window.localStorage.getItem("token")?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/"})}}))},Le=a(120),Ge=a(121),Fe=function(e){return r.a.createElement(Ge.a,{size:e.size,show:e.show,onHide:e.handleClose},r.a.createElement(Ge.a.Header,{closeButton:!0},r.a.createElement(Ge.a.Title,null,e.modalTitle)),r.a.createElement(Ge.a.Body,null,e.children),r.a.createElement(Ge.a.Footer,null,e.buttons?e.buttons.map((function(e,t){return r.a.createElement(xe.a,{key:t,variant:e.color,onClick:e.onClick},e.label)})):r.a.createElement(xe.a,Object.assign({variant:"primary"},e,{style:{backgroundColor:"#333"},className:"btn-sm",onClick:e.onSubmit}),"Save")))},Qe=(a(110),function(e){var t=Object(n.useState)(""),a=Object(Ne.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),u=Object(Ne.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(""),f=Object(Ne.a)(d,2),g=f[0],v=f[1],y=Object(n.useState)(""),h=Object(Ne.a)(y,2),O=h[0],j=h[1],S=Object(n.useState)(""),C=Object(Ne.a)(S,2),k=C[0],_=C[1],T=Object(n.useState)([]),w=Object(Ne.a)(T,2),N=w[0],R=w[1],x=Object(n.useState)(!1),I=Object(Ne.a)(x,2),U=I[0],A=I[1],D=Object(n.useState)(!1),P=Object(Ne.a)(D,2),L=P[0],G=P[1],F=Object(n.useState)(null),Q=Object(Ne.a)(F,2),H=Q[0],J=Q[1],$=Object(p.c)((function(e){return e.category})),K=Object(p.c)((function(e){return e.product})),V=Object(p.b)(),X=function(){A(!1)},Z=function(){var e=new FormData;e.append("name",c),e.append("quantity",s),e.append("price",g),e.append("description",O),e.append("category",k);var t,a=Object(ie.a)(N);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.append("productPicture",n)}}catch(r){a.e(r)}finally{a.f()}V(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Y}),t.next=4,Oe.post("product/create",e);case 4:201===t.sent.status?(a({type:q}),a(Se())):a({type:W}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e)).then((function(){return A(!1)}))},ee=function(e){R([].concat(Object(me.a)(N),[e.target.files[0]]))},te=function(){G(!1)},ae=function(e){J(e),G(!0)};return r.a.createElement(Te,{sidebar:!0},r.a.createElement(i.a,null,r.a.createElement(ke.a,null,r.a.createElement(_e.a,{md:12},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("h3",null,"Products"),r.a.createElement("button",{onClick:function(){return A(!0)}},"Add")))),r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,r.a.createElement(Le.a,{style:{fontSize:12},responsive:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,K.products.length>0?K.products.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,"2"),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,e.category.name),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return ae(e)}},"info"),r.a.createElement("button",{onClick:function(){var t={productId:e._id};V(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe.delete("product/deleteProductById",{data:{payload:e}});case 3:n=t.sent,a({type:z}),202===n.status?(a({type:B}),a(Se())):(r=n.data.error,a({type:M,payload:{error:r}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}},"del")))})):null))))),r.a.createElement(Fe,{show:U,handleClose:X,modalTitle:"Add New Product",onSubmit:Z},r.a.createElement(Ie,{label:"Name",value:c,placeholder:"Product Name",onChange:function(e){return l(e.target.value)}}),r.a.createElement(Ie,{label:"Quantity",value:s,placeholder:"Quantity",onChange:function(e){return m(e.target.value)}}),r.a.createElement(Ie,{label:"Price",value:g,placeholder:"Price",onChange:function(e){return v(e.target.value)}}),r.a.createElement(Ie,{label:"Description",value:O,placeholder:"Description",onChange:function(e){return j(e.target.value)}}),r.a.createElement("select",{className:"form-control",value:k,onChange:function(e){return _(e.target.value)}},r.a.createElement("option",null,"select category"),function e(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(ie.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;n.push({value:c._id,name:c.name}),c.children.length>0&&e(c.children,n)}}catch(l){r.e(l)}finally{r.f()}return n}($.categories).map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)}))),N.length>0?N.map((function(e,t){return r.a.createElement("div",{key:t},e.name)})):null,r.a.createElement("input",{type:"file",name:"productPicture",onChange:ee})),H?r.a.createElement(Fe,{show:L,handleClose:te,modalTitle:"Product Details",size:"lg"},r.a.createElement(ke.a,null,r.a.createElement(_e.a,{md:"6"},r.a.createElement("label",{className:"key"},"Name"),r.a.createElement("p",{className:"value"},H.name)),r.a.createElement(_e.a,{md:"6"},r.a.createElement("label",{className:"key"},"Price"),r.a.createElement("p",{className:"value"},H.price))),r.a.createElement(ke.a,null,r.a.createElement(_e.a,{md:"6"},r.a.createElement("label",{className:"key"},"Quantity"),r.a.createElement("p",{className:"value"},H.quantity)),r.a.createElement(_e.a,{md:"6"},r.a.createElement("label",{className:"key"},"Category"),r.a.createElement("p",{className:"value"},H.category.name))),r.a.createElement(ke.a,null,r.a.createElement(_e.a,{md:"12"},r.a.createElement("label",{className:"key"},"Description"),r.a.createElement("p",{className:"value"},H.description))),r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,r.a.createElement("label",{className:"key"},"Product Pictures"),r.a.createElement("div",{style:{display:"flex"}},H.productPictures.map((function(e){return r.a.createElement("div",{className:"productImgContainer"},r.a.createElement("img",{src:e.img,alt:""}))})))))):null)}),ze=(a(111),function(e){return r.a.createElement("div",Object.assign({className:"card"},e),(e.headerLeft||e.headerRight)&&r.a.createElement("div",{className:"cardHeader"},e.headerLeft&&r.a.createElement("div",null,e.headerLeft),e.headerRight&&e.headerRight),e.children)}),Be=(a(112),function(e){var t=Object(p.c)((function(e){return e.order})),a=Object(n.useState)(""),c=Object(Ne.a)(a,2),l=c[0],o=c[1],u=Object(p.b)(),s=function(e){u(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Z}),t.prev=1,t.next=4,Oe.post("/order/update",e);case 4:201===(n=t.sent).status?(a({type:ee}),a(function(){var e=Object(b.a)(E.a.mark((function e(t){var a,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:K}),e.prev=1,e.next=4,Oe.post("/order/getCustomerOrders");case 4:200===(a=e.sent).status?(n=a.data.orders,t({type:V,payload:{orders:n}})):(r=a.data.error,t({type:X,payload:{error:r}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())):(r=n.data.error,a({type:te,payload:{error:r}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}({orderId:e,type:l}))};return r.a.createElement(Te,{sidebar:!0},t.orders.map((function(e,t){return r.a.createElement(ze,{style:{margin:"10px 0"},key:t,headerLeft:e._id},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"50px 50px",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement("div",{className:"title"},"Items"),e.items.map((function(e,t){return r.a.createElement("div",{className:"value",key:t},e.productId.name)}))),r.a.createElement("div",null,r.a.createElement("span",{className:"title"},"Total Price"),r.a.createElement("br",null),r.a.createElement("span",{className:"value"},e.totalAmount)),r.a.createElement("div",null,r.a.createElement("span",{className:"title"},"Payment Type")," ",r.a.createElement("br",null),r.a.createElement("span",{className:"value"},e.paymentType)),r.a.createElement("div",null,r.a.createElement("span",{className:"title"},"Payment Status")," ",r.a.createElement("br",null),r.a.createElement("span",{className:"value"},e.paymentStatus))),r.a.createElement("div",{style:{boxSizing:"border-box",padding:"100px",display:"flex",alignItems:"center"}},r.a.createElement("div",{className:"orderTrack"},e.orderStatus.map((function(e){return r.a.createElement("div",{className:"orderStatus ".concat(e.isCompleted?"active":"")},r.a.createElement("div",{className:"point ".concat(e.isCompleted?"active":"")}),r.a.createElement("div",{className:"orderInfo"},r.a.createElement("div",{className:"status"},e.type),r.a.createElement("div",{className:"date"},function(e){if(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())}return""}(e.date))))}))),r.a.createElement("div",{style:{padding:"0 50px",boxSizing:"border-box"}},r.a.createElement("select",{onChange:function(e){return o(e.target.value)}},r.a.createElement("option",{value:""},"select status"),e.orderStatus.map((function(e){return r.a.createElement(r.a.Fragment,null,e.isCompleted?null:r.a.createElement("option",{key:e.type,value:e.type},e.type))})))),r.a.createElement("div",{style:{padding:"0 50px",boxSizing:"border-box"}},r.a.createElement("button",{onClick:function(){return s(e._id)}},"confirm"))))})))}),Me=a(37),Ye=a(75),qe=a.n(Ye),We=a(28),He=(a(113),function(e){var t=e.show,a=e.handleClose,n=e.modalTitle,c=e.size,l=e.expandedArray,o=e.checkedArray,u=e.handleCategoryInput,s=e.categoryList,i=e.onSubmit;return console.log({expandedArray:l,checkedArray:o}),r.a.createElement(Fe,{show:t,handleClose:a,onSubmit:i,modalTitle:n,size:c},r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,r.a.createElement("h6",null,"Expanded"))),l.length>0&&l.map((function(e,t){return r.a.createElement(ke.a,{key:t},r.a.createElement(_e.a,null,r.a.createElement(Ie,{value:e.name,placeholder:"Category Name",onChange:function(e){return u("name",e.target.value,t,"expanded")}})),r.a.createElement(_e.a,null,r.a.createElement("select",{className:"form-control",value:e.parentId,onChange:function(e){return u("parentId",e.target.value,t,"expanded")}},r.a.createElement("option",null,"select category"),s.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)})))),r.a.createElement(_e.a,null,r.a.createElement("select",{className:"form-control",value:e.type,onChange:function(e){return u("type",e.target.value,t,"expanded")}},r.a.createElement("option",{value:""},"Select Type"),r.a.createElement("option",{value:"store"},"Store"),r.a.createElement("option",{value:"product"},"Product"),r.a.createElement("option",{value:"page"},"Page"))))})),r.a.createElement("h6",null,"Checked Categories"),o.length>0&&o.map((function(e,t){return r.a.createElement(ke.a,{key:t},r.a.createElement(_e.a,null,r.a.createElement(Ie,{value:e.name,placeholder:"Category Name",onChange:function(e){return u("name",e.target.value,t,"checked")}})),r.a.createElement(_e.a,null,r.a.createElement("select",{className:"form-control",value:e.parentId,onChange:function(e){return u("parentId",e.target.value,t,"checked")}},r.a.createElement("option",null,"select category"),s.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)})))),r.a.createElement(_e.a,null,r.a.createElement("select",{className:"form-control",value:e.type,onChange:function(e){return u("type",e.target.value,t,"checked")}},r.a.createElement("option",{value:""},"Select Type"),r.a.createElement("option",{value:"store"},"Store"),r.a.createElement("option",{value:"product"},"Product"),r.a.createElement("option",{value:"page"},"Page"))))})))}),Je=function(e){var t=e.show,a=e.handleClose,n=e.modalTitle,c=e.categoryName,l=e.setCategoryName,o=e.parentCategoryId,u=e.setParentCategoryId,s=e.categoryList,i=e.handleCategoryImage,m=e.onSubmit;return r.a.createElement(Fe,{show:t,handleClose:a,onSubmit:m,modalTitle:n},r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,r.a.createElement(Ie,{value:c,placeholder:"Category Name",onChange:function(e){return l(e.target.value)},className:"form-control-sm"})),r.a.createElement(_e.a,null,r.a.createElement("select",{className:"form-control form-control-sm",value:o,onChange:function(e){return u(e.target.value)}},r.a.createElement("option",null,"select category"),s.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)}))))),r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,r.a.createElement("input",{type:"file",name:"categoryImage",onChange:i}))))},$e=(a(114),function(e){var t=Object(p.c)((function(e){return e.category})),a=Object(n.useState)(""),c=Object(Ne.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(""),s=Object(Ne.a)(u,2),m=s[0],d=s[1],g=Object(n.useState)(""),v=Object(Ne.a)(g,2),y=v[0],h=v[1],O=Object(n.useState)(!1),j=Object(Ne.a)(O,2),S=j[0],C=j[1],k=Object(n.useState)([]),_=Object(Ne.a)(k,2),T=_[0],w=_[1],G=Object(n.useState)([]),F=Object(Ne.a)(G,2),Q=F[0],z=F[1],B=Object(n.useState)([]),M=Object(Ne.a)(B,2),Y=M[0],q=M[1],W=Object(n.useState)([]),H=Object(Ne.a)(W,2),J=H[0],$=H[1],K=Object(n.useState)(!1),V=Object(Ne.a)(K,2),X=V[0],Z=V[1],ee=Object(n.useState)(!1),te=Object(Ne.a)(ee,2),ae=te[0],ne=te[1],re=Object(p.b)();Object(n.useEffect)((function(){t.loading||C(!1)}),[t.loading]);var ce=function e(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(ie.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;n.push({value:c._id,name:c.name,parentId:c.parentId,type:c.type}),c.children.length>0&&e(c.children,n)}}catch(l){r.e(l)}finally{r.f()}return n},le=function(){var e=ce(t.categories),a=[],n=[];T.length>0&&T.forEach((function(t,n){var r=e.find((function(e,a){return t==e.value}));r&&a.push(r)})),Q.length>0&&Q.forEach((function(t,a){var r=e.find((function(e,a){return t==e.value}));r&&n.push(r)})),q(a),$(n)},oe=function(){var e,t=Y.map((function(e,t){return{_id:e.value}}));J.map((function(e,t){return{_id:e.value}})).concat(t);t.length>0&&re((e=t,function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:D}),t.next=3,Oe.post("/category/delete",{payload:{ids:e}});case 3:201==(n=t.sent).status?(a(je()),a({type:P})):(r=n.data.error,a({type:L,payload:{error:r}}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(e){e&&(re(je()),ne(!1))})),ne(!1)},ue=ce(t.categories);return r.a.createElement(Te,{sidebar:!0},r.a.createElement(i.a,null,r.a.createElement(ke.a,null,r.a.createElement(_e.a,{md:12},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("h3",null,"Category"),r.a.createElement("div",{className:"actionBtnContainer"},r.a.createElement("span",null,"Actions: "),r.a.createElement("button",{onClick:function(){return C(!0)}},r.a.createElement(We.a,null)," ",r.a.createElement("span",null,"Add")),r.a.createElement("button",{onClick:function(){le(),ne(!0)}},r.a.createElement(We.g,null)," ",r.a.createElement("span",null,"Delete")),r.a.createElement("button",{onClick:function(){le(),Z(!0)}},r.a.createElement(We.f,null)," ",r.a.createElement("span",null,"Edit")))))),r.a.createElement(ke.a,null,r.a.createElement(_e.a,{md:12},r.a.createElement(qe.a,{nodes:function e(t){var a,n=[],r=Object(ie.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;n.push({label:c.name,value:c._id,children:c.children.length>0&&e(c.children)})}}catch(l){r.e(l)}finally{r.f()}return n}(t.categories),checked:T,expanded:Q,onCheck:function(e){return w(e)},onExpand:function(e){return z(e)},icons:{check:r.a.createElement(We.d,null),uncheck:r.a.createElement(We.e,null),halfCheck:r.a.createElement(We.e,null),expandClose:r.a.createElement(We.c,null),expandOpen:r.a.createElement(We.b,null)}})))),r.a.createElement(Je,{show:S,handleClose:function(){return C(!1)},onSubmit:function(){var e=new FormData;if(""===l)return alert("Category name is required"),void C(!1);e.append("name",l),e.append("parentId",m),e.append("categoryImage",y),re(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:N}),t.prev=1,t.next=4,Oe.post("/category/create",e);case 4:201===(n=t.sent).status?a({type:R,payload:{category:n.data.category}}):a({type:x,payload:n.data.error}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.response);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e)),o(""),d(""),C(!1)},modalTitle:"Add New Category",categoryName:l,setCategoryName:o,parentCategoryId:m,setParentCategoryId:d,categoryList:ue,handleCategoryImage:function(e){h(e.target.files[0])}}),r.a.createElement(He,{show:X,handleClose:function(){return Z(!1)},onSubmit:function(){var e=new FormData;J.forEach((function(t,a){e.append("_id",t.value),e.append("name",t.name),e.append("parentId",t.parentId?t.parentId:""),e.append("type",t.type)})),Y.forEach((function(t,a){e.append("_id",t.value),e.append("name",t.name),e.append("parentId",t.parentId?t.parentId:""),e.append("type",t.type)})),re(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:I}),t.next=3,Oe.post("/category/update",e);case 3:201===(n=t.sent).status?(a({type:U}),a(je())):(r=n.data.error,a({type:A,payload:{error:r}}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},modalTitle:"Update Categories",size:"lg",expandedArray:J,checkedArray:Y,handleCategoryInput:function(e,t,a,n){if(console.log(t),"checked"==n){var r=Y.map((function(n,r){return a==r?Object(f.a)(Object(f.a)({},n),{},Object(Me.a)({},e,t)):n}));q(r)}else if("expanded"==n){var c=J.map((function(n,r){return a==r?Object(f.a)(Object(f.a)({},n),{},Object(Me.a)({},e,t)):n}));$(c)}},categoryList:ue}),r.a.createElement(Fe,{modalTitle:"Confirm",show:ae,handleClose:function(){return ne(!1)},buttons:[{label:"No",color:"primary",onClick:function(){alert("no")}},{label:"Yes",color:"danger",onClick:oe}]},r.a.createElement("h5",null,"Expanded"),J.map((function(e,t){return r.a.createElement("span",{key:t},e.name)})),r.a.createElement("h5",null,"Checked"),Y.map((function(e,t){return r.a.createElement("span",{key:t},e.name)}))))}),Ke=function e(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(ie.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;n.push({value:c._id,name:c.name,parentId:c.parentId,type:c.type}),c.children.length>0&&e(c.children,n)}}catch(l){r.e(l)}finally{r.f()}return n},Ve=function(e){var t=Object(n.useState)(!1),a=Object(Ne.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),u=Object(Ne.a)(o,2),s=u[0],m=u[1],d=Object(p.c)((function(e){return e.category})),f=Object(n.useState)([]),g=Object(Ne.a)(f,2),v=g[0],y=g[1],h=Object(n.useState)(""),O=Object(Ne.a)(h,2),j=O[0],S=O[1],C=Object(n.useState)(""),k=Object(Ne.a)(C,2),_=k[0],T=k[1],w=Object(n.useState)(""),N=Object(Ne.a)(w,2),R=N[0],x=N[1],I=Object(n.useState)([]),U=Object(Ne.a)(I,2),A=U[0],D=U[1],P=Object(n.useState)([]),L=Object(Ne.a)(P,2),G=L[0],F=L[1],Q=Object(p.b)(),z=Object(p.c)((function(e){return e.page}));Object(n.useEffect)((function(){y(Ke(d.categories))}),[d]),Object(n.useEffect)((function(){console.log(z),z.loading||(l(!1),m(""),S(""),T(""),F([]),D([]))}),[z]);var B=function(e){var t=v.find((function(t){return t.value==e.target.value}));S(e.target.value),x(t.type)},M=function(e){console.log(e),D([].concat(Object(me.a)(A),[e.target.files[0]]))},Y=function(e){console.log(e),F([].concat(Object(me.a)(G),[e.target.files[0]]))},q=function(e){if(""===s)return alert("Title is required"),void l(!1);var t=new FormData;t.append("title",s),t.append("description",_),t.append("category",j),t.append("type",R),A.forEach((function(e,a){t.append("banners",e)})),G.forEach((function(e,a){t.append("products",e)})),Q(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:H}),t.prev=1,t.next=4,Oe.post("/page/create",e);case 4:201===(n=t.sent).status?a({type:J,payload:{page:n.data.page}}):a({type:$,payload:{error:n.data.error}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))};return r.a.createElement(Te,{sidebar:!0},z.loading?r.a.createElement("p",null,"Creating Page...please wait"):r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe,{show:c,modalTitle:"Create New Page",handleClose:function(){return l(!1)},onSubmit:q},r.a.createElement(i.a,null,r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,r.a.createElement(Ie,{type:"select",value:j,onChange:B,options:v,placeholder:"Select Category"}))),r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,r.a.createElement(Ie,{value:s,onChange:function(e){return m(e.target.value)},placeholder:"Page Title",className:""}))),r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,r.a.createElement(Ie,{value:_,onChange:function(e){return T(e.target.value)},placeholder:"Page Desc",className:""}))),A.length>0?A.map((function(e,t){return r.a.createElement(ke.a,{key:t},r.a.createElement(_e.a,null,e.name))})):null,r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,r.a.createElement(Ie,{className:"form-control",type:"file",name:"banners",onChange:M}))),G.length>0?G.map((function(e,t){return r.a.createElement(ke.a,{key:t},r.a.createElement(_e.a,null,e.name))})):null,r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,r.a.createElement(Ie,{className:"form-control",type:"file",name:"products",onChange:Y}))))),r.a.createElement("button",{onClick:function(){return l(!0)}},"Create Page")))};var Xe=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.auth}));return Object(n.useEffect)((function(){t.authenticate||e(function(){var e=Object(b.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=localStorage.getItem("token"))?(n=JSON.parse(localStorage.getItem("user")),t({type:y,payload:{token:a,user:n}})):t({type:v,payload:{error:"Failed to login"}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.authenticate&&e(function(){var e=Object(b.a)(E.a.mark((function e(t){var a,n,r,c,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe.post("/initialData");case 2:200===(a=e.sent).status&&(n=a.data,r=n.categories,c=n.products,l=n.orders,t({type:T,payload:{categories:r}}),t({type:F,payload:{products:c}}),t({type:V,payload:{orders:l}})),console.log(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t.authenticate]),r.a.createElement("div",{className:"App"},r.a.createElement(o.d,null,r.a.createElement(Pe,{path:"/home",component:we}),r.a.createElement(Pe,{path:"/page",component:Ve}),r.a.createElement(Pe,{path:"/category",component:$e}),r.a.createElement(Pe,{path:"/products",component:Qe}),r.a.createElement(Pe,{path:"/orders",component:Be}),r.a.createElement(o.b,{path:"/",component:Ue}),r.a.createElement(o.b,{path:"/signup",component:Ae})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.store=ve,l.a.render(r.a.createElement(p.a,{store:ve},r.a.createElement(m.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(Xe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,t,a){e.exports=a(115)},82:function(e,t,a){},83:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.f58d891b.chunk.js.map